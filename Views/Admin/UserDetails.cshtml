@model Job_Portal_Project.Models.ApplicationUser
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "User Details";
}

<div class="container mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-action="Users">Users</a></li>
            <li class="breadcrumb-item active" aria-current="page">@Model.FirstName @Model.LastName</li>
        </ol>
    </nav>

    <div class="card shadow p-4">
        <div class="row mb-4">
            <div class="col-md-4 text-center">
                @if (!string.IsNullOrEmpty(Model.ProfilePicturePath))
                {
                    <img src="@Url.Content(Model.ProfilePicturePath)" class="img-fluid rounded-circle mb-3" style="max-width: 150px;" alt="User Image" />
                }
                else
                {
                    <img src="https://via.placeholder.com/150" class="img-fluid rounded-circle mb-3" alt="No Image" />
                }
            </div>
            <div class="col-md-8 text-end">
                <a asp-action="EditUser" asp-route-id="@Model.Id" class="btn btn-warning me-2">Edit</a>
                <a href="javascript:history.back()" class="btn btn-danger me-2">Close</a>

            </div>
        </div>

        <ul class="nav nav-tabs mb-3" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic" type="button" role="tab">Basic Info</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link @(Model.Role == "Employer" || Model.Role == "Admin" ? "disabled text-muted" : "")"
                        id="resume-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#resume"
                        type="button"
                        role="tab"
                @(Model.Role == "Employer" || Model.Role == "Admin" ? "tabindex='-1' aria-disabled='true'" : "")>
                    Resume
                </button>
            </li>
        </ul>

        <div class="tab-content">
            <!-- Basic Info Tab -->
            <div class="tab-pane fade show active" id="basic" role="tabpanel">
                <h3>@Model.FirstName @Model.LastName</h3>
                <p><strong>Email:</strong> @Model.Email</p>
                <p><strong>City:</strong> @Model.City</p>
                <p><strong>Country:</strong> @Model.Country</p>
                <p>
                    <strong>Role:</strong>
                    <span class="badge @(Model.Role == "Employer" ? "bg-success" : "bg-info")">@Model.Role</span>
                </p>
            </div>

            <!-- Resume Tab -->
            <div class="tab-pane fade @(Model.Role == "Employer" || Model.Role == "Admin" ? "" : "show")" id="resume" role="tabpanel">
                @if (Model.Role == "Employer" || Model.Role == "Admin")
                {
                    <p class="text-muted">Resume not available for this role.</p>
                }
                else if (!string.IsNullOrEmpty(Model.ResumePath))
                {
                    <iframe src="@Url.Content(Model.ResumePath)" width="100%" height="400px" class="border rounded"></iframe>
                }
                else
                {
                    <p class="text-muted">No resume uploaded.</p>
                }
            </div>

        </div>
    </div>
</div>

<!-- Bootstrap JS (if not already included) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
